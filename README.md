# Маржинальная торговля

## Описание функциональности:
1. **Заемный капитал**: Пользователь может взять заемный капитал, используя свои средства как обеспечение. Например, если пользователь предоставляет $100, он может взять в долг до 10 раз больше, т.е., $1,000. Общая стоимость на его аккаунте составит $1,100.
2. **Обеспечение и уровень ликвидации**: Общее соотношение долга к стоимости активов должно быть поддержано выше 105%. Если оно падает ниже, контракт должен автоматически ликвидировать позицию (продать активы, вернуть заемные средства в пул ликвидности, а остаток отправить пользователю).
3. **Торговля на Uniswap**: Заемный капитал доступен только для торговых операций на Uniswap.

## Основные требования:
- Поддержка функционала ликвидации при достижении уровня обеспечения 105%
- Поддержка торговли на Uniswap, ограниченной определенными токенами (WETH, WBTC, USDC)

---

### Коротко о главном
Приложение "Agora" реализует Маржинальный трейдинг. В реализации смарт-контрактов реализованы следующие функции:
1. Поддержка торговли на Uniswap, ограниченной токенами USDC, WETH, WBTC
2. Функционал ликвидации при достижении уровня обеспечения ниже 105%
3. Возможность заёма 1000% от вложенной суммы
### Основной сценарий:
1. Пользователь производит залог, и может получить себе на счёт деньги, в 10 раз превышающие внесённые (их он не может вывести, но может пользоваться в пределах площадки)
2. При успешной торговли и получении дохода пользователь может оплатить долг +2%. Проценты идут в общий пул и распределяются между всеми участниками пула. После этого у пользователя есть вариант - остаться или выйти из пула
3. Если торговля не удалась, и счёт пользователя опустился, при уровне обеспечения меньше 105% происходит ликвидация, а именно мгновенное возвращение всех занятых денег в пул